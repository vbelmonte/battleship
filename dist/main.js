(()=>{"use strict";function t(){let t=function(){let t=function(){let t=[];for(let e=0;e<10;e+=1){t[e]=[];for(let n=0;n<10;n+=1)t[e][n]=null}return t}(),e=[];const n=function(){let t=[];for(let e=0;e<10;e+=1){t[e]=[];for(let n=0;n<10;n+=1)t[e][n]=!0}return t}();return{getGrid:()=>t,placeShip:(e,n,r,o)=>{const l=r.getShipLength();if("horizontal"===o){let o=l+e;for(let l=e;l<o;l+=1)t[n][l]=r}else{let o=l+n;for(let l=n;l<o;l+=1)t[l][e]=r}},receiveAttack:(r,o)=>{if(!0===n[r][o]){if(n[r][o]=!1,null!==t[r][o]){let n=t[r][o];return n.hit(),(t=>{t.isSunk()&&e.push(t)})(n),!0}return!1}return"square already hit!"},getSunkShips:()=>e,checkAllShipsSunk:()=>10===e.length,getAvailableSquares:()=>n}}(),e=!1;return{getGameBoard:()=>t,setTurn:t=>{e=t},getTurn:()=>e,receiveAttack:(e,n)=>t.receiveAttack(e,n)}}function e(t){let e=t,n=0,r=!1;return{hit:()=>{n++,e===n&&(r=!0)},getShipLength:()=>e,getHits:()=>n,isSunk:()=>e===n}}function n(t){const e=document.getElementById(t+"-board");for(let n=0;n<100;n++){const r=document.createElement("div"),o=n;r.classList.add("cell"),r.id=t+"-"+o.toString(),e.appendChild(r)}}function r(t,e,n,r,o){const l=function(t,e){const n=document.createElement("div");if(n.classList.add("ship-cell"),"horizontal"===e){const e=2.1875*t+.125*(t-1);n.style.width=e+"rem",n.style.height="2.1875rem"}else{const e=2.1875*t+.125*(t-1);n.style.height=e+"rem"}return n.style.outline="solid 2px var(--blue)",n}(n.getShipLength(),r),i=10*e+t;document.getElementById(o+"-"+i).appendChild(l)}function o(t,e,n,r){return"horizontal"===r?n+t<10:n+e<10}function l(t,e,n,r,o){if("horizontal"===r){let r=t;for(;r<t+n;){if(null!==o.getGrid()[e][r])return!1;r++}return!0}{let r=e;for(;r<e+n;){if(null!==o.getGrid()[r][t]||void 0===o.getGrid()[r][t])return!1;r++}return!0}}function i(t,e,n){const i=["horizontal","vertical"];let c=0;for(;c<t.length;){const u=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),h=i[Math.floor(2*Math.random())];o(u,a,t[c].getShipLength(),h)&&l(u,a,t[c].getShipLength(),h,e)&&(e.placeShip(u,a,t[c],h),r(u,a,t[c],h,n),c++)}console.log(e.getGrid())}!function(){const r=new t,o=new t,l=r.getGameBoard(),c=o.getGameBoard();n("computer"),n("p1"),function(t,n){i([new e(5),new e(4),new e(3),new e(3),new e(2)],t,"p1"),i([new e(5),new e(4),new e(3),new e(3),new e(2)],n,"computer")}(l,c)}()})();